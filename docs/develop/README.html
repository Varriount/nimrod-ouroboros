<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nimrod. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Nimrod Ouroboros</title>
<style type="text/css">

span.DecNumber {color: blue}
span.BinNumber {color: blue}
span.HexNumber {color: blue}
span.OctNumber {color: blue}
span.FloatNumber {color: blue}
span.Identifier  {color: black}
span.Keyword {font-weight: bold}
span.StringLit {color: blue}
span.LongStringLit {color: blue}
span.CharLit {color: blue}
span.EscapeSequence {color: black}
span.Operator {color: black}
span.Punctuation {color: black}
span.Comment, span.LongComment {font-style:italic; color: green}
span.RegularExpression  {color: DarkViolet}
span.TagStart {color: DarkViolet}
span.TagEnd {color: DarkViolet}
span.Key  {color: blue}
span.Value  {color: black}
span.RawData {color: blue}
span.Assembler  {color: blue}
span.Preprocessor {color: DarkViolet}
span.Directive  {color: DarkViolet}
span.Command, span.Rule, span.Hyperlink, span.Label, span.Reference, 
span.Other  {color: black}

div.navigation {
  -moz-border-radius: 5px 5px 5px 5px;
  float: left; 
  width: 30%;
  margin: 0; padding: 0;
  border: 3px outset #7F7F7F;
  background-color: #7F7F7F;
}

div.navigation ul {
  list-style-type: none;
  padding-left: 1em;
}
div.navigation ul li a, div.navigation ul li a:visited {
  font-weight: bold;
  color: #FFFFFF;
  text-decoration: none;
}
div.navigation ul li a:hover {
  font-weight: bold;
  text-decoration: none;
  color: gold;
}

div.content {
  margin-left: 30%;
  padding: 0 1em;
  border-left: 4em;
}

dl.item dd, dl.item dd p {
  margin-top:3px;
}
dl.item dd pre {
  margin-left: 15pt;
  border: 0px;
}
dl.item dt, dl.item dt pre {
  margin:  20pt 0 0 5pt;
}

pre, span.tok {
  background-color: #F9F9F9;
  border-color: #C4C4C4;
  border-style: solid;
  border-width: 1px 1px 1px 2px;
  color: black;
  line-spacing: 110%;
  padding: 2px;
}

span.red {
  color: #A80000;
}

hr {background-color:#9D9D9D; border:0 none; color:#9D9D9D; height:1px; width:100%;}

/*
:Author: David Goodger
:Contact: goodger@python.org
:Date: Date: 2006-05-21 22:44:42 +0200 (Sun, 21 May 2006)
:Revision: Revision: 4564
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/
/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th { border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first { margin-top: 0 ! important }
.last, .with-subtitle { margin-bottom: 0 ! important }
.hidden { display: none }
a.toc-backref { text-decoration: none ; color: black }
blockquote.epigraph { margin: 2em 5em ; }
dl.docutils dd { margin-bottom: 0.5em }
div.abstract { margin: 2em 5em }
div.abstract p.topic-title { font-weight: bold ; text-align: center }
div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ; border: medium outset ; padding: 1em }
div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title { font-weight: bold ; font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title { color: red ; font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication { margin: 2em 5em ; text-align: center ; font-style: italic }
div.dedication p.topic-title { font-weight: bold ; font-style: normal }
div.figure { margin-left: 2em ; margin-right: 2em }
div.footer, div.header { clear: both; font-size: smaller }
div.line-block { display: block ; margin-top: 1em ; margin-bottom: 1em }
div.line-block div.line-block { margin-top: 0 ; margin-bottom: 0 ;
  margin-left: 1.5em }
div.sidebar { margin-left: 1em ; border: medium outset ;
  padding: 1em ; background-color: #ffffee ; /*width: 40% ;*/ float: right ;
  clear: right }

div.sidebar p.rubric { font-family: sans-serif ; font-size: medium }
div.system-messages { margin: 5em }
div.system-messages h1 { color: red }
div.system-message { border: medium outset ; padding: 1em }
div.system-message p.system-message-title { color: red ; font-weight: bold }
div.topic { margin: 2em;}
h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }
h1.title { text-align: center }
h2.subtitle { text-align: center }
/* hr.docutils { width: 75% } */
img.align-left { clear: left }
img.align-right { clear: right }
ol.simple, ul.simple { margin-bottom: 1em }
ol.arabic { list-style: decimal }
ol.loweralpha { list-style: lower-alpha }
ol.upperalpha { list-style: upper-alpha }
ol.lowerroman { list-style: lower-roman }
ol.upperroman { list-style: upper-roman }
p.attribution { text-align: right ; margin-left: 50% }
p.caption { font-style: italic }
p.credits { font-style: italic ; font-size: smaller }
p.label { white-space: nowrap }
p.rubric { font-weight:bold;font-size:larger;color:maroon;text-align:center}
p.sidebar-title {font-family: sans-serif ;font-weight: bold ;font-size: larger }
p.sidebar-subtitle {font-family: sans-serif ; font-weight: bold }
p.topic-title {
font-weight: bold;
background-color: #6D6D6D;
border-bottom: 1px solid #000000;
border-top: 1px solid black;
color: white;
text-align: center;
margin: 0;
}
pre.address { margin-bottom: 0;margin-top:0;font-family:serif;font-size:100% }
pre.literal-block, pre.doctest-block {margin-left: 2em ;margin-right: 2em }
span.classifier {font-family: sans-serif;font-style: oblique }
span.classifier-delimiter {font-family: sans-serif;font-weight: bold }
span.interpreted {font-family: sans-serif }
span.option {white-space: nowrap }
span.pre {white-space: pre }
span.problematic {color: red }
span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation { border-left: solid 1px gray; margin-left: 1px }
table.docinfo {margin: 2em 4em }
table.docutils {margin-top: 0.5em;margin-bottom: 0.5em; border: 0 solid #9d9d9d; border-collapse: collapse; }
table.footnote {border-left: solid 1px black;margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {padding-left: 0.5em;padding-right: 0.5em;
  vertical-align: top;}

table.docutils td, table.docutils th { border-bottom:1px solid #9D9D9D; }
/* color: #4d4d4d} */

/* table.docutils td:hover, table.docinfo td:hover {color: #000000} */
  

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold;text-align: left;white-space: nowrap;padding-left: 0 }
  
table.docutils th
{
color: black;
font-weight:normal;
background-color: #E3E3E3;
border-top: 1px solid #1d1d1d;
border-bottom: 1px solid #1d1d1d;
}
  
h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {font-size: 100% }
ul.auto-toc { list-style-type: none }
/*a.reference { color: #E00000; font-weight:bold;}
a.reference:hover {color: #E00000;background-color: #ffff00;display: margin;
  font-weight:bold;}*/

</style>

</head>
<body>
<div class="document" id="documentId">
<h1 class="title">Nimrod Ouroboros</h1>
<p>This is a module for the <a class="reference external" href="http://nimrod-code.org">Nimrod programming language</a>.  Its purpose is to provide an API to easily access data appended to the currently running executable. Appending resources to your binary is not something you will want to do for really big applications, but it can be useful to <em>pack</em> configuration files or other small resources along your statically compiled binary for portability if procs like <tt class="docutils literal"><span class="pre">slurp</span></tt> or <tt class="docutils literal"><span class="pre">gorge</span></tt> from the <a class="reference external" href="http://nimrod-code.org/system.html">system module</a> aren't enough for you.</p>
<p>The aim of the module is to be integrated in a future version of the compiler so that the compiler can be distributed as a single binary to <em>unsuspecting</em> parties with minimal <em>baggage</em>, thus lowering the entry barrier for installing an <em>additional alien awkward</em> (triple As!) programming language tool into your existing non Nimrod projects.  For further discussion see <a class="reference external" href="http://forum.nimrod-code.org/t/194">a thread in the Nimrod forum discussing the creation of a portable nimrod compiler</a>.</p>
<p>Not related to this project, there are <a class="reference external" href="http://www.topatoco.com/merchant.mvc?Screen=PROD&amp;Store_Code=TO&amp;Product_Code=OG-OUROBOROS&amp;Category_Code=OG">cool shirts with ouroboros</a> on them.</p>

<h1 id="license">License</h1><p><a class="reference external" href="LICENSE.rst">MIT license</a>.</p>

<h1 id="installation">Installation</h1>
<h2 id="stable-version">Stable version</h2><p>Use <a class="reference external" href="https://github.com/nimrod-code/babel">Nimrod's babel package manager</a> to install the package and related tools:<pre>
$ babel update
$ babel install ouroboros</pre>
</p>

<h2 id="development-version">Development version</h2><p>Use <a class="reference external" href="https://github.com/nimrod-code/babel">Nimrod's babel package manager</a> to install locally the github checkout:<pre>
$ git clone https://github.com/gradha/nimrod-ouroboros.git
$ cd nimrod-ouroboros
$ git checkout develop
$ babel install</pre>
</p>

<h1 id="usage">Usage</h1><p>Once you have installed the package with babel you can <tt class="docutils literal"><span class="pre">import ouroboros</span></tt> in your programs and use it. The <tt class="docutils literal"><span class="pre">ouroboros</span></tt> module only provides read access procs. You append data to your binary first with the alchemy tool, which is installed into your Babel's binary directory:<pre>
$ alchemy --help</pre>
</p>
<p>At the moment you can either add a set of directories to your binary or remove them. Future versions will provide finer granularity, like excluding certain patterns or specifying manually the final virtual path of the added file.</p>
<p>Once your binary has appended data, the following code should work:<pre>
import ouroboros, os

let
  appFilename = get_app_filename()
  a = appFilename.getAppendedData

if a.format != noData:
  # Data found, try to read it!
  echo &quot;Binary &quot; &amp; appFilename &amp; &quot; has appended data!&quot;
  echo &quot;File size &quot; &amp; $a.fileSize
  echo &quot;Data size &quot; &amp; $a.dataSize
  echo &quot;Content size &quot; &amp; $a.contentSize</pre>
</p>
<p>At the moment only tests on the MacOSX platform have been performed. Other platforms should follow, feel free to report bugs/problems if you find them.</p>

<h1 id="documentation">Documentation</h1><p>The <tt class="docutils literal"><span class="pre">ouroboros</span></tt> module comes with embedded documentation you can generate using the Nimrod compiler. Go to the directory where babel installs the package (running <tt class="docutils literal"><span class="pre">babel path ouroboros</span></tt> will tell you) and run the <tt class="docutils literal"><span class="pre">doc</span></tt> <a class="reference external" href="https://github.com/fowlmouth/nake">nakefile task</a>. Unix example:<pre>
$ cd `babel path ouroboros`
$ nake doc
$ open ouroboros.html</pre>
</p>
<p>The nakefile <tt class="docutils literal"><span class="pre">doc</span></tt> task will also generate documentation for the <tt class="docutils literal"><span class="pre">alchemy</span></tt> module and other text files, the <a class="reference external" href="docindex.rst">docindex file</a> will contain pointers to all of them. It is likely that <tt class="docutils literal"><span class="pre">alchemy</span></tt> will be merged into <tt class="docutils literal"><span class="pre">ouroboros</span></tt> in the future, but for the moment you can use it as a programmatic interface to the command line tool.</p>
<p>Generated documentation for all public API versions can also be found at <a class="reference external" href="http://gradha.github.io/nimrod-ouroboros/">http://gradha.github.io/nimrod-ouroboros/</a>. No guarantees on its freshness, though, as these are manually updated. Check the generation date at the bottom of the files.</p>
<p>Appended data to binaries follows a custom file format which is described in the <a class="reference external" href="docs/file_format.rst">docs/file_format.rst</a> file.</p>

<h1 id="changes">Changes</h1><p>This is version 0.3.1. For a list of changes see the <a class="reference external" href="docs/CHANGES.rst">docs/CHANGES.rst file</a>.</p>

<h1 id="plans-for-the-future">Plans for the future</h1><ul class="simple"><li>Better <tt class="docutils literal"><span class="pre">alchemy</span></tt> tool.</li>
<li>Different compression options for appended data.</li>
<li>Emulation of fs access for MacOSX' app bundles (which don't really need ouroboros).</li>
</ul>

<h1 id="git-branches">Git branches</h1><p>This project uses the <a class="reference external" href="https://github.com/nvie/gitflow">git-flow branching model</a>. Which means the <tt class="docutils literal"><span class="pre">master</span></tt> default branch doesn't <em>see</em> much movement, development happens in another branch like <tt class="docutils literal"><span class="pre">develop</span></tt>. Most people will be fine using the <tt class="docutils literal"><span class="pre">master</span></tt> branch, but if you want to contribute something please check out first the <tt class="docutils literal"><span class="pre">develop</span></tt> branch and do pull requests against that.</p>

<h1 id="feedback">Feedback</h1><p>You can send me feedback through <a class="reference external" href="https://github.com/gradha/nimrod-ouroboros/issues">github's issue tracker</a>. I also take a look from time to time to <a class="reference external" href="http://forum.nimrod-code.org">Nimrod's forums</a> where you can talk to other nimrod programmers. </p>



<small>Generated: 2014-05-31 21:19:51 UTC</small>
</div>
</body>
</html>
